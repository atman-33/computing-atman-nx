<main>
    <section class="section mt-2">
        <!-- Breadcrumb -->
        <div class="container">
            <app-breadcrumb [categories]="categories ?? []" [postTitle]="title ?? ''"></app-breadcrumb>
        </div>

        <div class="blog-content">
            <div class="container">

                <!-- ヘッダー -->
                <div class="row align-items-center justify-content-around">
                    <div class="col-md-6 col-xl-6 mt-4">
                        <div class="card bg-primary shadow-soft border-light organic-radius p-0">
                            <img class="organic-radius img-fluid" src="{{thumbnail || defaultThumbnail}}"
                                alt="keyboard">
                        </div>
                    </div>
                    <div class="col-md-6 col-xl-5 text-center text-md-left">
                        <h1 class="h1 mt-4 mb-4">{{title}}</h1>
                        <div class="text-md-center">
                            <div class="d-flex justify-content-center align-items-center mx-2 my-2"><span
                                    class="small"><span class="far fa-calendar-alt mr-2"></span>{{date}}</span>
                            </div>

                            <div class="mt-2">
                                <span *ngFor="let tag of tags">
                                    <a [routerLink]="['/blog/posts']" [queryParams]="{tag: tag}">
                                        <span class="btn btn-pill px-2 py-1 mx-1 my-1"><span
                                                class="fa-solid fa-tag mr-1"></span>{{tag}}
                                        </span>
                                    </a>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <hr color="#808080">

                <div [innerHTML]="articleHtml"></div>

                <hr class="mt-6" color="#808080">
                <h2>Related Articles</h2>
                <div class="row">
                    <div class="mb-4 pt-3" *ngFor="let post of relatedPosts">
                        <div class="card bg-primary border-light shadow-soft h-100">
                            <div class="row no-gutters">
                                <div class="col-3 align-self-center">
                                    <a [routerLink]="'/blog/posts/' + post.id">
                                        <div
                                            class="card bg-primary shadow-soft border-light organic-radius mx-2 my-2 p-0">
                                            <img src="{{ post.thumbnail || defaultThumbnail}}" alt="..."
                                                class="organic-radius img-fluid">
                                        </div>
                                    </a>
                                </div>
                                <div class="col-9">
                                    <div class="card-body px-3 py-2">
                                        <div class="media">
                                            <span class="medium">
                                                <div class="post-group mr-1">
                                                    <span class="fa-solid fa-tag align-self-center"></span>
                                                    <span class="px-1" *ngFor="let tag of post.tags">
                                                        <a class="underline-link" [routerLink]="'/blog/posts/'"
                                                            [queryParams]="{tag: tag,  page: 1}">
                                                            {{ tag }}
                                                        </a>
                                                    </span>
                                                </div>
                                            </span>
                                        </div>
                                        <div class="d-flex align-items-center justify-content-end">
                                            <span class="small text-right mr-1">
                                                <span class="far fa-calendar-alt mr-2"></span>{{post.date}}
                                            </span>
                                        </div>

                                        <a [routerLink]="'/blog/posts/' + post.id">
                                            <h6 class="card-title my-2 font-weight-bold">{{ post.title }} </h6>
                                        </a>
                                        <p class="card-text">{{post.article}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>